(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{28:function(t,e,a){},62:function(t,e,a){},71:function(t,e,a){"use strict";a.r(e);var n,c,i=a(3),o=a.n(i),s=a(54),r=a.n(s),d=(a(62),a(28),a(21)),l=a(72),p=a(9),u=a(4),j=new p.ApolloClient({cache:new p.InMemoryCache,link:new p.HttpLink({uri:"https://mypostapp114.herokuapp.com/v1/graphql"})});var b,_=function(t){var e=Object(p.gql)(n||(n=Object(d.a)(["\n    mutation post_data( $Id : Int!){\n        delete_post_data(where: {Id: {_eq:$Id}}) {\n          affected_rows\n        }\n      }\n    "])));j.mutate({mutation:e,variables:{Id:t}}),window.location.reload(!1)},m=function(t){return Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("p",{children:t.item.topic_name}),Object(u.jsx)("p",{children:t.item.topic_data})]}),Object(u.jsx)(l.a,{className:"button1",onClick:function(){return function(t){var e=Object(p.gql)(c||(c=Object(d.a)(['\n    mutation last_unsaved_data($a: String!, $b: String!) {\n    update_last_unsaved_data(_set: {last_topic_data: $a, last_topic_name: $b}, where: {index: {_eq: "1"}}) {\n        affected_rows\n    }\n    }\n    '])));j.mutate({mutation:e,variables:{a:t.item.topic_data,b:t.item.topic_name}}),_(t.item.Id)}(t)},children:"Update"}),Object(u.jsx)(l.a,{className:"button2",onClick:function(){return _(t.item.Id)},children:"Delete"})]})},h=Object(p.gql)(b||(b=Object(d.a)(["\n{\n    post_data(order_by: {Id: desc}) {\n      Id\n      topic_data\n      topic_name\n    }\n  }\n  \n"])));var O,v,x,f=function(){var t=Object(p.useQuery)(h),e=t.loading,a=t.error,n=t.data;return e?Object(u.jsx)("p",{children:"Loading"}):a?Object(u.jsx)("p",{children:"Error :"}):n.post_data.map((function(t,e){return Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:Object(u.jsx)(m,{item:t})})})}))},g=a(37),w=new p.ApolloClient({cache:new p.InMemoryCache,link:new p.HttpLink({uri:"https://mypostapp114.herokuapp.com/v1/graphql"})}),k=Object(p.gql)(O||(O=Object(d.a)(["\n  mutation post_data($topic_name: String!, $topic_data: String!) {\n  insert_post_data(objects: {topic_name: $topic_name, topic_data: $topic_data}) {\n    affected_rows\n  }\n}\n\n"]))),y=Object(p.gql)(v||(v=Object(d.a)(["\n{\n    last_unsaved_data {\n      last_topic_data\n      last_topic_name\n    }\n  }\n  \n"]))),C=Object(p.gql)(x||(x=Object(d.a)(['\nmutation last_unsaved_data($a: String!, $b: String!) {\n  update_last_unsaved_data(_set: {last_topic_data: $a, last_topic_name: $b}, where: {index: {_eq: "1"}}) {\n    affected_rows\n  }\n}\n\n'])));var I=function(){var t=Object(p.useQuery)(y).data,e=Object(i.useState)(""),a=Object(g.a)(e,2),n=a[0],c=a[1],o=Object(i.useState)(""),s=Object(g.a)(o,2),r=s[0],d=s[1],j=Object(i.useState)(0),b=Object(g.a)(j,2),_=b[0],m=b[1];return 0==_&&t&&t.last_unsaved_data&&t.last_unsaved_data.map((function(t,e){0==e&&(c(t.last_topic_name),d(t.last_topic_data),m(1))})),Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)("form",{action:"#",children:[Object(u.jsx)("p",{children:"Topic "}),Object(u.jsx)("input",{className:"topic",type:"text",placeholder:"Topic",onChange:function(t){return c(t.target.value)},value:n}),Object(u.jsx)("p",{children:"Description"}),Object(u.jsx)("input",{className:"topic",type:"text",placeholder:"Description",id:"description",onChange:function(t){return d(t.target.value)},value:r}),Object(u.jsx)("br",{}),Object(u.jsx)(l.a,{className:"button1",onClick:function(){w.mutate({mutation:k,variables:{topic_name:n,topic_data:r}}),w.mutate({mutation:C,variables:{a:"",b:""}}),window.location.reload(!1)},children:"Post"})]})})},$=new p.ApolloClient({cache:new p.InMemoryCache,link:new p.HttpLink({uri:"https://mypostapp114.herokuapp.com/v1/graphql"})});var q=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)(p.ApolloProvider,{client:$,children:[Object(u.jsx)(I,{}),Object(u.jsx)(f,{})]})})},S=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,73)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,i=e.getLCP,o=e.getTTFB;a(t),n(t),c(t),i(t),o(t)}))};r.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(q,{})}),document.getElementById("root")),S()}},[[71,1,2]]]);
//# sourceMappingURL=main.67f2e808.chunk.js.map